<html>
<head>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery
/1.7.1/jquery.min.js"></script>
<script type="text/javascript" src="http://localhost:1337/socket.io/socket.io.js"></script>

<script type="text/javascript">
var socket = io.connect("http://localhost:1337");

$(document).on("ready",function(){
	//node handlers
	socket.on("announcement",function(message){
		$("#messages").append(
			"<div class='announcement'>" + message + "</div>");
	});

	//html handlers
	$("#set-name-button").on("click",function(){
		var name = $("#username").val();

		//this is called by the server.
		var nameCallback = function(isUsed){
			if(isUsed){
				alert("name is in use");
			} else {
			}
		};
		socket.emit("setname",name,nameCallback);
	});
});
</script>
</head>
<body>
<input id="username" type="text" />
<input id="set-name-button" type="button" value="set name" />

<div id="messages"></div>
</body>
</html>
